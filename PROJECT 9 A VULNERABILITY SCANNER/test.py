def mod_exp(a, b, m):
    result = 1  # Khởi tạo result là 1
    a = a % m  # Lấy a mod m để tránh overflow
    while b > 0:
        if b % 2 == 1:  # Nếu b là lẻ
            result = (result * a) % m
        a = (a * a) % m  # Tính a^2 mod m
        b //= 2  # Chia b cho 2
        print("b: "+str(b)+"\t"+"a: "+str(a)+"\t"+"kq: "+str(result))
    return result


mod_exp(22,151,391)